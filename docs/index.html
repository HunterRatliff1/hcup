<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Adapts the software provided by the Healthcare Cost and Utilization Project (HCUP) 
  for analyses of administrative database using International Classification of Diseases (ICD) 
  codes within the R statistical environment.">
<title>Implementation of HCUP Software Tools in R • hcup</title>
<script src="deps/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Implementation of HCUP Software Tools in R">
<meta property="og:description" content="Adapts the software provided by the Healthcare Cost and Utilization Project (HCUP) 
  for analyses of administrative database using International Classification of Diseases (ICD) 
  codes within the R statistical environment.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">hcup</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/ccsr-dx.html">CCSR for ICD-10-CM Diagnosis Codes</a>
    <a class="dropdown-item" href="articles/procedures.html">Procedures with ICD-10-PCS</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="hcup--implementation-of-hcup-software-tools-in-r">hcup- Implementation of HCUP Software Tools in R<a class="anchor" aria-label="anchor" href="#hcup--implementation-of-hcup-software-tools-in-r"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>Adapts the software provided by the <a href="https://www.hcup-us.ahrq.gov/tools_software.jsp" class="external-link">Healthcare Cost and Utilization Project (HCUP)</a> for analyses of administrative database using International Classification of Diseases (ICD) codes within the R statistical environment.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of hcup from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"HunterRatliff1/hcup"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classify-diagnosis-codes-by-chronicity-cci">Classify diagnosis codes by chronicity (CCI)<a class="anchor" aria-label="anchor" href="#classify-diagnosis-codes-by-chronicity-cci"></a>
</h2>
<p>This works for ICD-9 or ICD-10 diagnosis codes, although the categories differ across ICD versions</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hunterratliff1.github.io/hcup" class="external-link">hcup</a></span><span class="op">)</span>
<span class="fu"><a href="reference/classify_chronic.html">classify_chronic</a></span><span class="op">(</span>icd_dx <span class="op">=</span> <span class="st">"G4730"</span>, icd_version <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] "Chronic"</span>
<span class="fu"><a href="reference/classify_chronic.html">classify_chronic</a></span><span class="op">(</span>icd_dx <span class="op">=</span> <span class="st">"56081"</span>, icd_version <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>
<span class="co">#&gt; [1] "NonChronic"</span>


<span class="co"># Vectorized version</span>
<span class="va">icd_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"G4730"</span>, <span class="st">"L563"</span>, <span class="st">"M25151"</span><span class="op">)</span>
<span class="fu"><a href="reference/classify_chronic.html">classify_chronic</a></span><span class="op">(</span><span class="va">icd_codes</span>, icd_version <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; [1] "Chronic" "Acute"   "Acute"</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classify-procedures-by-class">Classify procedures by class<a class="anchor" aria-label="anchor" href="#classify-procedures-by-class"></a>
</h2>
<p>Identifies procedures by <a href="https://www.hcup-us.ahrq.gov/toolssoftware/procedureicd10/procedure_icd10.jsp" class="external-link">Procedure Classes</a>, which can be [1] diagnostic or therapeutic and [2] whether they major (expected to be performed in an operating room) or minor. This works with both ICD-9-CM procedure codes and ICD-10-PCS procedure codes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/classify_pr.html">classify_pr</a></span><span class="op">(</span><span class="st">"0PS443Z"</span><span class="op">)</span> <span class="co"># Spine surgery</span>
<span class="co">#&gt; [1] "Major Therapeutic"</span>
<span class="fu"><a href="reference/classify_pr.html">classify_pr</a></span><span class="op">(</span><span class="st">"009U3ZX"</span><span class="op">)</span> <span class="co"># Lumbar puncture</span>
<span class="co">#&gt; [1] "Minor Diagnostic"</span>
<span class="fu"><a href="reference/classify_pr.html">classify_pr</a></span><span class="op">(</span><span class="st">"0015"</span><span class="op">)</span>    <span class="co"># Infusion of IL-2</span>
<span class="co">#&gt; [1] "Minor Therapeutic"</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classify-icd-9-into-ccs">Classify ICD-9 into CCS<a class="anchor" aria-label="anchor" href="#classify-icd-9-into-ccs"></a>
</h2>
<p>This function categorizes ICD codes for both diagnoses and procedures into mutually exclusive <a href="https://www.hcup-us.ahrq.gov/toolssoftware/ccs/ccs.jsp" class="external-link">Clinical Classifications Software (CCS) categories</a>. This was designed for use with ICD-9 codes, but the HCUP used to provide a <a href="https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/ccsr_archive.jsp" class="external-link">beta version</a> that works with ICD-10</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="co">## Look up ICD-9 DX codes</span>
<span class="fu"><a href="reference/classify_ccs.html">classify_ccs</a></span><span class="op">(</span><span class="st">"8442"</span>, code_type <span class="op">=</span> <span class="st">"dx9"</span>, level <span class="op">=</span> <span class="st">"single"</span><span class="op">)</span>
<span class="co">#&gt; [1] "DX232"</span>

<span class="co"># Vectorized</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>ICD <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"8442"</span>, <span class="st">"1403"</span>, <span class="st">"9682"</span>,  <span class="st">"36463"</span>, <span class="st">"3595"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>CCS      <span class="op">=</span> <span class="fu"><a href="reference/classify_ccs.html">classify_ccs</a></span><span class="op">(</span><span class="va">ICD</span>, code_type <span class="op">=</span> <span class="st">"dx9"</span>, <span class="st">"single"</span><span class="op">)</span>,
         CCS_expl <span class="op">=</span> <span class="fu"><a href="reference/explain_ccs.html">explain_ccs</a></span><span class="op">(</span><span class="va">CCS</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 × 3</span>
<span class="co">#&gt;   ICD   CCS   CCS_expl                                </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;                                   </span>
<span class="co">#&gt; 1 8442  DX232 Sprains and strains                     </span>
<span class="co">#&gt; 2 1403  DX11  Cancer of head and neck                 </span>
<span class="co">#&gt; 3 9682  DX242 Poisoning by other medications and drugs</span>
<span class="co">#&gt; 4 36463 DX91  Other eye disorders                     </span>
<span class="co">#&gt; 5 3595  DX95  Other nervous system disorders</span>

<span class="co">## Works the same for ICD-9 PR codes</span>
<span class="fu"><a href="reference/classify_ccs.html">classify_ccs</a></span><span class="op">(</span><span class="st">"066"</span>, code_type <span class="op">=</span> <span class="st">"pr9"</span><span class="op">)</span>
<span class="co">#&gt; No value provided for `level`. Using `level = single` as the default</span>
<span class="co">#&gt; You can specify `level = single` to silence this alert</span>
<span class="co">#&gt; [1] "PR10"</span></code></pre></div>
<p>As mentioned above, <code><a href="reference/classify_ccs.html">classify_ccs()</a></code> will also work with ICD-10 using a beta version that is no longer updated, but the CCSR (below) is preferred. However, if you’re working with a mix of ICD-9 and ICD-10 codes, you can use classify_ccs() understanding the limitations</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fake patient data</span>
<span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">patient</span>, <span class="op">~</span><span class="va">pr_vers</span>,     <span class="op">~</span><span class="va">code</span>,
       <span class="st">"A"</span>,       <span class="fl">10</span>, <span class="st">"0TY10Z1"</span>,
       <span class="st">"B"</span>,       <span class="fl">10</span>, <span class="st">"0RJM4ZZ"</span>,
       <span class="st">"C"</span>,       <span class="fl">10</span>, <span class="st">"0210088"</span>,
       <span class="st">"D"</span>,        <span class="fl">9</span>,    <span class="st">"3352"</span>,
       <span class="st">"E"</span>,        <span class="fl">9</span>,    <span class="st">"3323"</span>,
       <span class="st">"F"</span>,        <span class="fl">9</span>,    <span class="st">"3639"</span>
  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>CCS <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span>
    <span class="va">pr_vers</span><span class="op">==</span><span class="fl">9</span>  <span class="op">~</span> <span class="fu"><a href="reference/classify_ccs.html">classify_ccs</a></span><span class="op">(</span><span class="va">code</span>, code_type <span class="op">=</span> <span class="st">"pr9"</span><span class="op">)</span>,
    <span class="va">pr_vers</span><span class="op">==</span><span class="fl">10</span> <span class="op">~</span> <span class="fu"><a href="reference/classify_ccs.html">classify_ccs</a></span><span class="op">(</span><span class="va">code</span>, code_type <span class="op">=</span> <span class="st">"pr10"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>expln <span class="op">=</span> <span class="fu"><a href="reference/explain_ccs.html">explain_ccs</a></span><span class="op">(</span><span class="va">CCS</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 × 5</span>
<span class="co">#&gt;   patient pr_vers code    CCS   expln                                           </span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;                                           </span>
<span class="co">#&gt; 1 A            10 0TY10Z1 PR105 Kidney transplant                               </span>
<span class="co">#&gt; 2 B            10 0RJM4ZZ PR149 Arthroscopy                                     </span>
<span class="co">#&gt; 3 C            10 0210088 PR44  Coronary artery bypass graft (CABG)             </span>
<span class="co">#&gt; 4 D             9 3352    PR176 Organ transplantation (other than bone marrow c…</span>
<span class="co">#&gt; 5 E             9 3323    PR37  Diagnostic bronchoscopy and biopsy of bronchus  </span>
<span class="co">#&gt; 6 F             9 3639    PR44  Coronary artery bypass graft (CABG)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classify-icd-10-into-ccsr">Classify ICD-10 into CCSR<a class="anchor" aria-label="anchor" href="#classify-icd-10-into-ccsr"></a>
</h2>
<p>The <a href="https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/ccs_refined.jsp" class="external-link">Clinical Classifications Software Refined (CCSR) software</a> for ICD-10 works similar to CCS for procedures, but capitalizes on ICD-10’s specificity</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/classify_ccsr_pr.html">classify_ccsr_pr</a></span><span class="op">(</span><span class="st">"0016070"</span><span class="op">)</span>
<span class="co">#&gt; [1] "CNS010"</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>icd_10 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"04L04DZ"</span>, <span class="st">"009Y40Z"</span>, <span class="st">"0F7C7DZ"</span>, <span class="st">"GZ2ZZZZ"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>CCSR      <span class="op">=</span> <span class="fu"><a href="reference/classify_ccsr_pr.html">classify_ccsr_pr</a></span><span class="op">(</span><span class="va">icd_10</span><span class="op">)</span>,
         explained <span class="op">=</span> <span class="fu"><a href="reference/explain_ccsr.html">explain_ccsr</a></span><span class="op">(</span><span class="va">CCSR</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 4 × 3</span>
<span class="co">#&gt;   icd_10  CCSR   explained                                                      </span>
<span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;                                                          </span>
<span class="co">#&gt; 1 04L04DZ CAR010 Ligation and embolization of vessels                           </span>
<span class="co">#&gt; 2 009Y40Z CNS003 Spinal canal and spinal cord drainage (excluding lumbar punctu…</span>
<span class="co">#&gt; 3 0F7C7DZ HEP008 Common bile duct sphincterotomy and stenting                   </span>
<span class="co">#&gt; 4 GZ2ZZZZ MHT004 Crisis intervention for mental health</span></code></pre></div>
<p>For ICD-10 diagnostic codes, the specificity actually creates a bit of a problem as CCSR doesn’t categorize diagnoses into mutually exclusive categories (see <code><a href="articles/ccsr-dx.html">vignette("ccsr-dx")</a></code>).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/ccsr_dx.html">ccsr_dx</a></span><span class="op">(</span><span class="st">"I110"</span><span class="op">)</span> <span class="co"># Hypertensive heart disease with heart failure</span>
<span class="co">#&gt; [1] "CIR008" "CIR019"</span>
<span class="fu"><a href="reference/ccsr_dx.html">ccsr_dx</a></span><span class="op">(</span><span class="st">"I110"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/explain_ccsr.html">explain_ccsr</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "Hypertension with complications and secondary hypertension"</span>
<span class="co">#&gt; [2] "Heart failure"</span></code></pre></div>
<p>This is wonderful in some senses, because it captures more information, but makes it difficult to answer some questions (e.g. do admissions for heart failure cost more than admissions for hypertension?). To address this, the principal diagnosis can still be categorized into a single CCSR category</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span>
  <span class="op">~</span><span class="va">Pt_id</span>, <span class="op">~</span><span class="va">DX_NUM</span>,     <span class="op">~</span><span class="va">ICD</span>,
     <span class="st">"A"</span>,  <span class="st">"DX_1"</span>,   <span class="st">"I110"</span>,
     <span class="st">"A"</span>,  <span class="st">"DX_2"</span>, <span class="st">"F17210"</span>,
     <span class="st">"B"</span>,  <span class="st">"DX_1"</span>,   <span class="st">"I150"</span>,
     <span class="st">"B"</span>,  <span class="st">"DX_2"</span>,   <span class="st">"Z370"</span>,
     <span class="st">"B"</span>,  <span class="st">"DX_3"</span>,   <span class="st">"E876"</span>
  <span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  
  <span class="co"># Limit to the principal diagnosis</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">DX_NUM</span> <span class="op">==</span> <span class="st">"DX_1"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>prin_CCSR      <span class="op">=</span> <span class="fu"><a href="reference/classify_ccsr_dx1.html">classify_ccsr_dx1</a></span><span class="op">(</span><span class="va">ICD</span>, setting<span class="op">=</span><span class="st">"ip"</span><span class="op">)</span>,
         principal_CCSR <span class="op">=</span> <span class="fu"><a href="reference/explain_ccsr.html">explain_ccsr</a></span><span class="op">(</span><span class="va">prin_CCSR</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; `setting = ip` only applies to the principal/first listed diagnosis</span>
<span class="co">#&gt; This message is displayed once every 8 hours.</span>
<span class="co">#&gt; # A tibble: 2 × 5</span>
<span class="co">#&gt;   Pt_id DX_NUM ICD   prin_CCSR principal_CCSR                                   </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;                                            </span>
<span class="co">#&gt; 1 A     DX_1   I110  CIR019    Heart failure                                    </span>
<span class="co">#&gt; 2 B     DX_1   I150  CIR008    Hypertension with complications and secondary hy…</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing hcup</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Hunter Ratliff <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4978-1998" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Hunter Ratliff.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
